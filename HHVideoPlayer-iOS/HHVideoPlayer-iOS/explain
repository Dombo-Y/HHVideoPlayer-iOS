æ–¹æ³•åˆ—è¡¨ --------------------------------------------

æ¯”è¾ƒä¸¤ç§éŸ³é¢‘é‡‡æ ·æ ¼å¼å’Œå£°é“æ•°æ˜¯å¦ç›¸åŒï¼š
static inline
int cmp_audio_fmts(enum AVSampleFormat fmt1, int64_t channel_count1,
                   enum AVSampleFormat fmt2, int64_t channel_count2)

è·å–ä¸€ä¸ªæœ‰æ•ˆçš„å£°é“å¸ƒå±€ï¼š
static inline
int64_t get_valid_channel_layout(int64_t channel_layout, int channels)

å‘éŸ³è§†é¢‘è§£ç å™¨çš„PacketQueueä¸­æ·»åŠ ä¸€ä¸ªAVPacketæ•°æ®åŒ…ï¼š
static int packet_queue_put_private(PacketQueue *q, AVPacket *pkt)

å‘éŸ³è§†é¢‘è§£ç å™¨çš„PacketQueueä¸­æ·»åŠ ä¸€ä¸ªAVPacketæ•°æ®åŒ…ï¼š
static int packet_queue_put(PacketQueue *q, AVPacket *pkt)

å‘éŸ³è§†é¢‘è§£ç å™¨çš„PacketQueueä¸­æ·»åŠ ä¸€ä¸ªç©ºçš„AVPacketæ•°æ®åŒ…ï¼š
static int packet_queue_put_nullpacket(PacketQueue *q, int stream_index)

åˆå§‹åŒ–éŸ³è§†é¢‘è§£ç å™¨çš„PacketQueueï¼š
static int packet_queue_init(PacketQueue *q)

ç”¨äºæ¸…ç©ºéŸ³è§†é¢‘è§£ç å™¨çš„PacketQueueä¸­æ‰€æœ‰çš„æ•°æ®åŒ…
static void packet_queue_flush(PacketQueue *q)

ç”¨äºé”€æ¯éŸ³è§†é¢‘è§£ç å™¨çš„PacketQueueä»¥åŠç›¸å…³çš„æ•°æ®ç»“æ„ï¼š
static void packet_queue_destroy(PacketQueue *q)

ç”¨äºä¸­æ­¢éŸ³è§†é¢‘è§£ç å™¨çš„PacketQueueä¸­çš„æ‰€æœ‰æ•°æ®åŒ…
static void packet_queue_abort(PacketQueue *q)

ç”¨äºå¯åŠ¨éŸ³è§†é¢‘è§£ç å™¨çš„PacketQueueä¸­çš„æ•°æ®åŒ…çš„å¤„ç†
static void packet_queue_start(PacketQueue *q)

ç”¨äºä»éŸ³è§†é¢‘è§£ç å™¨çš„PacketQueueä¸­è·å–æ•°æ®åŒ…
static int packet_queue_get(PacketQueue *q, AVPacket *pkt, int block, int *serial)

ç”¨äºåˆå§‹åŒ–éŸ³è§†é¢‘è§£ç å™¨çš„Decoderç»“æ„ä½“
static void decoder_init(Decoder *d, AVCodecContext *avctx, PacketQueue *queue, SDL_cond *empty_queue_cond)

ç”¨äºè§£ç éŸ³è§†é¢‘æ•°æ®çš„å‡½æ•° ã€æ ¸å¿ƒ ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ã€‘
static int decoder_decode_frame(Decoder *d, AVFrame *frame, AVSubtitle *sub)

ç”¨äºé”€æ¯éŸ³è§†é¢‘è§£ç å™¨çš„å‡½æ•°
static void decoder_destroy(Decoder *d)

ç”¨äºé‡Šæ”¾Frameç±»å‹å˜é‡vp
static void frame_queue_unref_item(Frame *vp)

ç”¨äºåˆå§‹åŒ–FrameQueueç»“æ„ä½“çš„å‡½æ•°
static int frame_queue_init(FrameQueue *f, PacketQueue *pktq, int max_size, int keep_last)

ç”¨äºé”€æ¯FrameQueueç»“æ„ä½“çš„å‡½æ•°
static void frame_queue_destory(FrameQueue *f)

ç”¨äºå‘é€ä¿¡å·é€šçŸ¥å…¶ä»–çº¿ç¨‹çš„å‡½æ•°
static void frame_queue_signal(FrameQueue *f)

ç”¨äºè·å–FrameQueueé˜Ÿåˆ—ä¸­ä¸‹ä¸€ä¸ªå¾…å¤„ç†çš„Frameç±»å‹æŒ‡é’ˆçš„å‡½æ•°
static Frame *frame_queue_peek(FrameQueue *f)

ç”¨äºè·å–FrameQueueé˜Ÿåˆ—ä¸­ä¸‹ä¸€ä¸ªå¾…æ˜¾ç¤ºçš„Frameç±»å‹æŒ‡é’ˆçš„å‡½æ•°
static Frame *frame_queue_peek_next(FrameQueue *f)

ç”¨äºè·å–FrameQueueé˜Ÿåˆ—ä¸­æœ€åä¸€å¸§Frameç±»å‹æŒ‡é’ˆçš„å‡½æ•°
static Frame *frame_queue_peek_last(FrameQueue *f)

ç”¨äºè·å–FrameQueueé˜Ÿåˆ—ä¸­ä¸‹ä¸€ä¸ªå¯å†™å…¥çš„Frameç±»å‹æŒ‡é’ˆçš„å‡½æ•°
static Frame *frame_queue_peek_writable(FrameQueue *f)

ç”¨äºè·å–FrameQueueé˜Ÿåˆ—ä¸­ä¸‹ä¸€ä¸ªå¯è¯»å–çš„Frameç±»å‹æŒ‡é’ˆçš„å‡½æ•°
static Frame *frame_queue_peek_readable(FrameQueue *f)

ç”¨äºå°†FrameQueueé˜Ÿåˆ—ä¸­ä¸‹ä¸€ä¸ªå¾…å†™å…¥çš„Frameç±»å‹æŒ‡é’ˆæ¨å…¥é˜Ÿåˆ—ä¸­çš„å‡½æ•°
static void frame_queue_push(FrameQueue *f)

æ˜¯ä» FrameQueue ä¸­è·å–ä¸‹ä¸€å¸§ï¼Œå¹¶æ›´æ–°å½“å‰å¸§ç´¢å¼•
static void frame_queue_next(FrameQueue *f)

è·å– FrameQueue ä¸­è¿˜æœªè¢«è¯»å–çš„å¸§æ•°
static int frame_queue_nb_remaining(FrameQueue *f)

è·å– FrameQueue ä¸­æœ€åä¸€ä¸ªå¸§çš„ä½ç½®
static int64_t frame_queue_last_pos(FrameQueue *f)

ä¸­æ­¢è§£ç å™¨ dï¼Œå¹¶æ¸…ç©ºå¸§é˜Ÿåˆ— fqã€‚
static void decoder_abort(Decoder *d, FrameQueue *fq)

ç”¨äºåœ¨å±å¹•ä¸Šç»˜åˆ¶çŸ©å½¢
static inline void fill_rectangle(int x, int y, int w, int h)

ç”¨äºé‡æ–°åˆ†é…SDL_Textureå¯¹è±¡çš„å†…å­˜ç©ºé—´
static int realloc_texture(SDL_Texture **texture, Uint32 new_format, int new_width, int new_height, SDL_BlendMode blendmode, int init_texture)

ä¸€ä¸ªè®¡ç®—è§†é¢‘æ˜¾ç¤ºåŒºåŸŸçš„å‡½æ•°
static void calculate_display_rect(SDL_Rect *rect,
                                   int scr_xleft, int scr_ytop, int scr_width, int scr_height,
                                   int pic_width, int pic_height, AVRational pic_sar)
                   
ç”¨äºæ ¹æ®ç»™å®šçš„è§†é¢‘åƒç´ æ ¼å¼ï¼Œè·å–ç›¸åº”çš„SDLåƒç´ æ ¼å¼å’Œæ··åˆæ¨¡å¼
static void get_sdl_pix_fmt_and_blendmode(int format, Uint32 *sdl_pix_fmt, SDL_BlendMode *sdl_blendmode)

upload_textureå‡½æ•°è´Ÿè´£å°†AVFrameä¸Šä¼ åˆ°SDLçº¹ç†
static int upload_texture(SDL_Texture **tex, AVFrame *frame, struct SwsContext **img_convert_ctx)

set_sdl_yuv_conversion_modeå‡½æ•°æ ¹æ®æä¾›çš„AVFrameçš„å±æ€§è®¾ç½®SDLæ¸²æŸ“çš„å…¨å±€YUVåˆ°RGBè½¬æ¢æ¨¡å¼
static void set_sdl_yuv_conversion_mode(AVFrame *frame)

video_image_displayå‡½æ•°ç”¨äºæ˜¾ç¤ºè§†é¢‘å¸§
static void video_image_display(VideoState *is)

ä½¿ç”¨æ­¤å‡½æ•°æ¥è®¡ç®—å¾ªç¯ç¼“å†²åŒºçš„å½“å‰ç´¢å¼•
static inline int compute_mod(int a, int b)

åœ¨FFplayåª’ä½“æ’­æ”¾å™¨ä¸­ä¸ºæ˜¾ç¤ºçš„è§†é¢‘æ’­æ”¾éŸ³é¢‘
static void video_audio_display(VideoState *s)

å…³é—­ç‰¹å®šçš„éŸ³é¢‘æˆ–è§†é¢‘æµã€‚
static void stream_component_close(VideoState *is, int stream_index)

stream_close æ˜¯ FFmpeg åº“ä¸­ ffplay ç¨‹åºä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œè´Ÿè´£å…³é—­ç»™å®š VideoState çš„è§†é¢‘å’ŒéŸ³é¢‘æµã€‚å½“ç¨‹åºé€€å‡ºæˆ–ç”¨æˆ·è¯·æ±‚å…³é—­å½“å‰æ–‡ä»¶æ—¶è°ƒç”¨è¯¥å‡½æ•°
static void stream_close(VideoState *is)

ç”¨äºé€€å‡ºç¨‹åºå¹¶é‡Šæ”¾èµ„æº
static void do_exit(VideoState *is)

ç”¨äºå¤„ç†SIGTERMä¿¡å·ã€‚SIGTERMæ˜¯ä¸€ä¸ªè¿›ç¨‹ç»ˆæ­¢ä¿¡å·
static void sigterm_handler(int sig)

ç”¨äºæ ¹æ®è§†é¢‘çš„å®½åº¦ã€é«˜åº¦å’Œé‡‡æ ·æ¯”ç‡ï¼ˆsarï¼‰è®¾ç½®é»˜è®¤çš„æ’­æ”¾çª—å£å¤§å°
static void set_default_window_size(int width, int height, AVRational sar)

è´Ÿè´£åˆå§‹åŒ–è§†é¢‘å­ç³»ç»Ÿå¹¶æ‰“å¼€è§†é¢‘æµã€‚å®ƒåœ¨ç¨‹åºå¯åŠ¨æ—¶å’Œç”¨æˆ·è¯·æ±‚æ‰“å¼€æ–°æ–‡ä»¶æ—¶è°ƒç”¨
static int video_open(VideoState *is)

è´Ÿè´£å°†è§£ç åçš„è§†é¢‘å¸§æ˜¾ç¤ºåœ¨ SDL çª—å£ä¸­
static void video_display(VideoState *is)

ç”¨äºè·å–æŒ‡å®šæ—¶é’Ÿçš„æ—¶é’Ÿå€¼
static double get_clock(Clock *c)

è®¾ç½®Clockç»“æ„ä½“çš„å½“å‰æ—¶é—´
static void set_clock_at(Clock *c, double pts, int serial, double time)

è®¾ç½®ä¸€ä¸ªClockå¯¹è±¡çš„æ—¶é—´ï¼Œå°†æ—¶é’Ÿä¸å½“å‰æ—¶é—´æˆ³åŒæ­¥ï¼Œä»¥ä¾¿ç”¨äºæ§åˆ¶éŸ³é¢‘å’Œè§†é¢‘å¸§çš„æ’­æ”¾é€Ÿåº¦ã€‚
static void set_clock(Clock *c, double pts, int serial)

è®¾ç½®Clockå¯¹è±¡çš„é€Ÿåº¦ï¼Œè¯¥å‡½æ•°ç”¨äºè°ƒæ•´éŸ³é¢‘å’Œè§†é¢‘å¸§çš„æ’­æ”¾é€Ÿåº¦ï¼Œä»¥ä¾¿ä¸åŒæ­¥æ—¶é’Ÿä¿æŒä¸€è‡´
static void set_clock_speed(Clock *c, double speed)

åˆå§‹åŒ–ä¸€ä¸ªæ—¶é’Ÿå¯¹è±¡ï¼ˆClockï¼‰ï¼Œå¹¶ä¸”å°†é˜Ÿåˆ—åºå·ï¼ˆqueue_serialï¼‰æŒ‡å‘ä¸€ä¸ªæ•´æ•°
static void init_clock(Clock *c, int *queue_serial)

ä½œç”¨æ˜¯å°†ä¸»æ—¶é’ŸåŒæ­¥åˆ°ä»æ—¶é’Ÿã€‚å½“å­˜åœ¨è§†é¢‘å’ŒéŸ³é¢‘æ—¶ï¼Œéœ€è¦å¯¹å®ƒä»¬è¿›è¡ŒåŒæ­¥ï¼Œå› ä¸ºå®ƒä»¬æ¥è‡ªä¸åŒçš„æ—¶é’Ÿã€‚
static void sync_clock_to_slave(Clock *c, Clock *slave)

å®ƒç”¨äºç¡®å®šè§†é¢‘åŒæ­¥ç±»å‹
static int get_master_sync_type(VideoState *is)

ç”¨äºè·å–ä¸»æ—¶é’Ÿçš„æ—¶é—´
static double get_master_clock(VideoState *is)

å®ƒç”¨äºæ£€æŸ¥å¤–éƒ¨æ—¶é’Ÿçš„é€Ÿåº¦å¹¶æ ¹æ®éœ€è¦è¿›è¡Œæ›´æ­£
static void check_external_clock_speed(VideoState *is)

ç”¨äºå®ç°éŸ³è§†é¢‘æµçš„å¿«è¿›å’Œå¿«é€€
static void stream_seek(VideoState *is, int64_t pos, int64_t rel, int seek_by_bytes)

å…¶ä½œç”¨æ˜¯åœ¨æ’­æ”¾å’Œæš‚åœä¹‹é—´åˆ‡æ¢è§†é¢‘æµ
static void stream_toggle_pause(VideoState *is)

ç”¨äºåœ¨æš‚åœå’Œæ’­æ”¾çŠ¶æ€ä¹‹é—´åˆ‡æ¢
static void toggle_pause(VideoState *is)

ç”¨äºåœ¨é™éŸ³å’Œéé™éŸ³çŠ¶æ€ä¹‹é—´è¿›è¡Œåˆ‡æ¢
static void toggle_mute(VideoState *is)

å…¶ä½œç”¨æ˜¯æ ¹æ®æŒ‡å®šçš„éŸ³é‡æ­¥é•¿ï¼ˆstepï¼‰å’ŒéŸ³é‡è°ƒæ•´ç¬¦å·ï¼ˆsignï¼‰æ¥æ›´æ–°å½“å‰çš„éŸ³é‡ï¼Œå¹¶åœ¨å‘½ä»¤è¡Œä¸­æ‰“å°å‡ºæ–°çš„éŸ³é‡
static void update_volume(VideoState *is, int sign, double step)

ä½œç”¨æ˜¯æ‰‹åŠ¨æ’­æ”¾è§†é¢‘çš„ä¸‹ä¸€å¸§ç”»é¢ï¼Œå®ƒå…è®¸ç”¨æˆ·åœ¨æ’­æ”¾è§†é¢‘æ—¶è¿›è¡Œå‡†ç¡®çš„å¸§è·³è·ƒã€‚ã€æ ¸å¿ƒ ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ã€‘
static void step_to_next_frame(VideoState *is)

ç”¨äºè®¡ç®—è§†é¢‘æ’­æ”¾å»¶è¿Ÿæ—¶é—´ã€‚å®ƒå°†å½“å‰æ—¶é’Ÿçš„å»¶è¿Ÿå€¼å’Œä¸»æ—¶é’Ÿä¸è§†é¢‘æ—¶é’Ÿçš„æ—¶å·®ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªç›®æ ‡å»¶è¿Ÿå€¼ã€æ ¸å¿ƒ ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ã€‘
static double compute_target_delay(double delay, VideoState *is)

ç”¨äºè®¡ç®—è§†é¢‘å¸§çš„æŒç»­æ—¶é—´
static double vp_duration(VideoState *is, Frame *vp, Frame *nextvp)

ç”¨äºæ›´æ–°VideoStateç»“æ„ä½“ä¸­çš„è§†é¢‘æ—¶é’Ÿï¼ˆVideoStateçš„video_clockæˆå‘˜ï¼‰
static void update_video_pts(VideoState *is, double pts, int64_t pos, int serial)

ä¸»è¦è´Ÿè´£è§†é¢‘çš„åˆ·æ–°å’Œæ˜¾ç¤º
static void video_refresh(void *opaque, double *remaining_time)

å°†è§£ç åçš„è§†é¢‘å¸§æ”¾å…¥è§†é¢‘å¸§é˜Ÿåˆ—ä¸­ï¼Œä»¥ä¾¿åç»­æ˜¾ç¤ºåˆ°å±å¹•ä¸Š
static int queue_picture(VideoState *is, AVFrame *src_frame, double pts, double duration, int64_t pos, int serial)

ä»å½“å‰è§†é¢‘å¸§é˜Ÿåˆ— is->pictqï¼ˆç”± queue_picture() å‡½æ•°å¡«å……ï¼‰ä¸­è·å–è§†é¢‘å¸§å¹¶è¿”å›
static int get_video_frame(VideoState *is, AVFrame *frame)

ä½œç”¨æ˜¯ä»éŸ³é¢‘é˜Ÿåˆ— is->audioq ä¸­è·å–éŸ³é¢‘åŒ…ï¼Œè§£ç éŸ³é¢‘å¸§ï¼Œé€šè¿‡éŸ³é¢‘è®¾å¤‡æ’­æ”¾éŸ³é¢‘å¸§
static int audio_thread(void *arg)

ç”¨äºå¯åŠ¨ç‰¹å®šè§£ç å™¨çš„è§£ç çº¿ç¨‹
static int decoder_start(Decoder *d, int (*fn)(void *), const char *thread_name, void* arg)

ä»è§†é¢‘é˜Ÿåˆ— is->videoq ä¸­è·å–è§†é¢‘åŒ…ï¼Œè§£ç è§†é¢‘å¸§åæ˜¾ç¤ºåˆ°å±å¹•ä¸Š
static int video_thread(void *arg)

å…¶ä½œç”¨æ˜¯ä»å­—å¹•é˜Ÿåˆ— is->subtitleq ä¸­è·å–å­—å¹•åŒ…ï¼Œè¿›è¡Œè§£ç åæ˜¾ç¤ºåˆ°å±å¹•ä¸Š
static int subtitle_thread(void *arg)

ç”¨äºæ›´æ–°éŸ³é¢‘æ³¢å½¢å›¾çš„æ˜¾ç¤º
static void update_sample_display(VideoState *is, short *samples, int samples_size)

ç”¨äºå®ç°éŸ³é¢‘ä¸è§†é¢‘çš„åŒæ­¥
static int synchronize_audio(VideoState *is, int nb_samples)

ç”¨äºè§£ç éŸ³é¢‘å¸§å¹¶å°†è§£ç åçš„éŸ³é¢‘æ•°æ®é€å…¥éŸ³é¢‘æ’­æ”¾å™¨ä¸­æ’­æ”¾ ã€æ ¸å¿ƒ ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ã€‘
static int audio_decode_frame(VideoState *is)

ç”¨äºå‘ SDL2 éŸ³é¢‘å­ç³»ç»Ÿæäº¤éŸ³é¢‘æ•°æ®
static void sdl_audio_callback(void *opaque, Uint8 *stream, int len)

ç”¨äºæ‰“å¼€éŸ³é¢‘è®¾å¤‡å¹¶åˆå§‹åŒ–éŸ³é¢‘å‚æ•°
static int audio_open(void *opaque, int64_t wanted_channel_layout, int wanted_nb_channels, int wanted_sample_rate, struct AudioParams *audio_hw_params)

æ‰“å¼€è§†é¢‘å’ŒéŸ³é¢‘æµä¸­çš„ä¸€ä¸ªï¼Œå³éŸ³é¢‘æµæˆ–è§†é¢‘æµï¼Œå¹¶åˆå§‹åŒ–æ‰€éœ€çš„ç›¸å…³å‚æ•°å’Œæ•°æ®ç»“æ„ ã€æ ¸å¿ƒ ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ã€‘
static int stream_component_open(VideoState *is, int stream_index)

ä¸€ä¸ªä¸­æ–­å›è°ƒå‡½æ•°ï¼Œç”¨äºæ£€æµ‹è§£ç å™¨æ˜¯å¦éœ€è¦ä¸­æ–­è§£ç æ“ä½œ
static int decode_interrupt_cb(void *ctx)

ç”¨äºåˆ¤æ–­æµä¸­çš„æ•°æ®åŒ…æ•°é‡æ˜¯å¦è¶³å¤Ÿè¿›è¡Œæ’­æ”¾
static int stream_has_enough_packets(AVStream *st, int stream_id, PacketQueue *queue)

ç”¨äºåˆ¤æ–­åª’ä½“æµæ˜¯å¦å®æ—¶æµ
static int is_realtime(AVFormatContext *s)

ä¸“é—¨ç”¨äºè¯»å–åª’ä½“æµæ•°æ®çš„çº¿ç¨‹å‡½æ•° ã€æ ¸å¿ƒ ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ğŸš€ã€‘
static int read_thread(void *arg)

ç”¨äºæ‰“å¼€æŒ‡å®šåª’ä½“æ–‡ä»¶å¹¶è§£æå…¶ä¸­çš„éŸ³è§†é¢‘æµ
static VideoState *stream_open(const char *filename, AVInputFormat *iformat)

ç”¨äºåˆ‡æ¢å•ä¸ªè§†é¢‘æµçš„ä¸åŒè¯­è¨€ç‰ˆæœ¬æˆ–éŸ³é¢‘æµçš„ä¸åŒå£°é“ç‰ˆæœ¬
static void stream_cycle_channel(VideoState *is, int codec_type)

ç”¨äºåˆ‡æ¢è§†é¢‘çª—å£çš„å…¨å±çŠ¶æ€
static void toggle_full_screen(VideoState *is)

ç”¨äºåˆ‡æ¢éŸ³é¢‘æ³¢å½¢å›¾çš„æ˜¾ç¤ºçŠ¶æ€
static void toggle_audio_display(VideoState *is)

ç”¨äºç­‰å¾… SDL çª—å£äº‹ä»¶çš„å‘ç”Ÿ
static void refresh_loop_wait_event(VideoState *is, SDL_Event *event)

ç”¨äºæ ¹æ®ç”¨æˆ·æŒ‰ä¸‹çš„å¿«è¿›æˆ–å¿«é€€é”®ï¼Œè·³è½¬åˆ°æŒ‡å®šç« èŠ‚æˆ–æ—¶é—´ç‚¹
static void seek_chapter(VideoState *is, int incr)

ffplay ç¨‹åºçš„ä¸»è¦æ§åˆ¶å¾ªç¯ï¼Œç”¨äºç›‘å¬å’Œå¤„ç†å„ç§äº‹ä»¶
static void event_loop(VideoState *cur_stream)


static int opt_frame_size(void *optctx, const char *opt, const char *arg)


static int opt_width(void *optctx, const char *opt, const char *arg)


static int opt_height(void *optctx, const char *opt, const char *arg)

static int opt_format(void *optctx, const char *opt, const char *arg)

static int opt_frame_pix_fmt(void *optctx, const char *opt, const char *arg)

static int opt_sync(void *optctx, const char *opt, const char *arg)

static int opt_seek(void *optctx, const char *opt, const char *arg)

static int opt_duration(void *optctx, const char *opt, const char *arg)

static int opt_show_mode(void *optctx, const char *opt, const char *arg)

static void opt_input_file(void *optctx, const char *filename)

static int opt_codec(void *optctx, const char *opt, const char *arg)


static const OptionDef options[] =

static void show_usage(void)

void show_help_default(const char *opt, const char *arg)

int main(int argc, char **argv)
